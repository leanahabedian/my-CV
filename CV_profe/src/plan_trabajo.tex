\subsection*{Objetivos generales}

%Adaptive systems what and why they are trendy
La necesidad creciente de sistemas de software que pueden lidiar en tiempo de ejecución con cambios inesperados ha reforzado la importancia de tener métodos ingenieriles sólidos para la construcción de sistemas adaptativos~\cite{SEAMS}. Adaptabilidad es un requerimiento amplio que apunta a poder continuar operando a pesar de cambios en tiempo de ejecución de la disponibilidad de recursos, necesidades de usuarios, y condiciones inesperadas en el entorno como por ejemplo fallas. Adaptabilidad requiere que el sistema, dinámicamente, se reconfigure y optimice ocultando al usuario, en la medida de lo posible, este comportamiento complejo 

Arquitecturas para sistemas adaptativos~\cite{Huang:2004:RAS:1078026.1078430, GAT,Kramer:2007:SSA:1253532.1254723} %,Doherty04adistributed
 son típicamente multi-capa, combinando ciclos MAPE (monitor, analysis, plan and execute) de control de distintos niveles de abstracción. Los niveles más bajos suelen ser de baja latencia y enfocan más en objetivos tácticos que no requieren de memoria (es decir "state-less"), mientras que los niveles superiores suelen centrarse en objetivos estratégicos de alta latencia y con memoria. 

Para los niveles superiores, que suelen llamarse de planificación, los sistemas adaptativos utilizan representaciones explicitas del entorno de ejecución \cite{Kramer:2007:SSA:1253532.1254723,GAT}. Estos modelos de comportamiento (ej. Sistemas de transiciones etiquetadas
%~\cite{Keller:1976:FVP:360248.360251}
) son procesados mediante técnicas algorítmicas (ej. planning \cite{Nau:2004:APT:975615,seams08} y síntesis de controladores
\cite{ramadge89,dippolito10}) para producir en tiempo de ejecución estrategias operacionales para que el sistema pueda lograr sus objetivos. 

Estos modelos de comportamiento son idealizaciones del entorno real. Lo son porque la complejidad algorítmica de tratar con un modelo "completo" sería intratable en tiempo y espacio. Además, presunciones sobre el ambiente pueden ser aprovechadas para lograr objetivos de sistema más sofisticados (muy poco puede ser garantizado en un mundo en donde "todo" puede salir mal).

%Uncertainty
Todo modelo, pues, introduce incertidumbre \cite{uncertainty} y por lo tanto riesgo. No podemos estar seguros que nuestras presunciones son validas, y por lo tanto tomamos riesgo al planificar en función de ellas. Uno de los objetivos detrás de la investigación en sistemas adaptativos es mitigar el riesgo (que surge de incertidumbre al tiempo de diseño) mediante decisiones en base a la información disponible en tiempo de ejecución \cite{SEAMS}.


% One environment model is limiting
A pesar del balance crucial que debe lograrse entre riesgo, robustez y la capacidad de garantizar
propiedades complejas, los diseños existentes para sistemas adaptativos sólo contemplan un modelo
del entorno sobre el cual hacer planificación ~\cite{seams08,dippolito10,plasma,epifani}. Con lo
cual fijan el nivel de riesgo y los objetivos que son alcanzables, y se exponen a una falta de robustez: Cuando las presunciones sobre el ambiente no son válidas el sistema falla completamente o continua sin garantía alguna. 


% Research question
Nuestro \emph{objetivo principal} es desarrollar diseños para sistemas adaptativos, y en particular para el nivel de planificación, que soporten múltiples niveles de riesgo y permitan transicionar, de acuerdo a la validez de las presunciones en cada nivel de riesgo, entre distintos niveles de garantía funcional. Esperamos que un diseño de este tipo permita una degradación y mejora gradual según la validez de las presunciones.

La beca solicitada se enmarca en un proyecto cuya \emph{hipótesis general} es que la síntesis de controladores de eventos discretos puede ser el motor de razonamiento que permita proveer en tiempo de ejecución estrategias correctas por construcción para el nivel de planificación en sistemas adaptativos.

Síntesis de controladores construye automáticamente estrategias operacionales a partir de un modelo del entorno y un objetivo de sistema. Dichas estrategias pueden ser construidas en la capa de planificación en tiempo de ejecución en base a información que se va recolectando dinámicamente y requerimientos nuevos. Luego dichas estrategias pueden ser ejecutadas por un interprete. 

La  \emph{hipótesis específica} que abordará el becario es que el nivel de planificación en sistemas adaptativos puede y debe ser diseñada como una jerarquía de problemas de control de eventos discretos. Dicho diseño permitiría tolerar distintos niveles de riesgo y garantías funcionales, además de proveer mecanismos de degradación y mejora gradual en tiempo de ejecución. 




\subsection*{Antecedentes}

%Antecedentes: 
% 
%Indicar el marco teórico de la investigación y las hipótesis de trabajo propuestas 
%consignando, sobre qué otros trabajos de investigación propios o de contribuciones de  
%terceros, se basan. 


\paragraph{Síntesis de Controladores}
Este plan está fuertemente vinculado a técnicas que construyen automáticamente estrategias operativas de comportamiento. Esto representa un campo amplio que toma de áreas como síntesis de programas (e.g.~\cite{Manna:1980:DAP:357084.357090}), desarrollo basado en modelos (e.g~\cite{giese12}),
planning (e.g.~\cite{universal,bertoli01,seams08}), control-supervisor (e.g.~\cite{980826}) y síntesis de controladores (e.g.
~\cite{piterman06}).

La síntesis de controladores se origina en el trabajo de B\"uchi,
Landweber, and Rabin (ej. ~\cite{buchi69}) y su actualización a formas más modernas~\cite{Pnueli:1989:SRM:75277.75293}. El problema general de síntesis es computacionalmente muy caro, sin embargo trabajo reciente a apuntado a encontrar sub-lógicas que permitan tratar especificaciones mas restringidas con complejidad polinomial (e.g. ~\cite{piterman06,Kupferman:2005:SDP:1097112.1097487}).
La comunidad ha puesto foco originalmente en sistemas embebidos y circuitos digitales lo cual ha llevado a el estudio de síntesis en el contexto de comunicación vía memoria compartida y formalismos de tipo Kripke  %(cf.~\cite{Bloem:2007:IPA:1266366.1266622,sohail08}). 
Sin embargo, en áreas como ingeniería de requerimientos, diseño arquitectónico y sistemas adaptativos, un modelo de comunicación vía mensajes es mas apropiada y más recientemente se ha explorado síntesis para modelos de comportamiento basados en eventos~\cite{dippolito10}.


Planning es un campo de la inteligencia artificial~\cite{russell95} que está fuertemente vinculado con síntesis de controladores pero donde el foco está en sacar provecho de la estructura de la especificación del problema. Es decir, en vez de trabajar en una representación semántica se hace un trabajo de manipulación sintáctica en donde mediante heurísticas se busca lograr una eficiencia mayor a costa de completitud. La génesis de este área no es en sistemas reactivos, con lo cual inicialmente se asumía un entorno completamente controlable y determinístico ~\cite{Nau:2004:APT:975615}. Estas presunciones han sido relajadas a través de los años y de hecho planning está convergiendo con síntesis en muchos aspectos  (e.g.~\cite{DBLP:conf/ecp/GiunchigliaT99}). 

Tanto planning como síntesis de controladores han ampliado su campo de acción a modelos cuantitativos para razonar sobre el costo y beneficio de distintas estrategias. En robótica, por ejemplo, políticas de control basadas en Partial Observable Markov Decision Processes es muy común (ej. \cite{Thrun:2005:PR:1121596}). 
La gran mayoría de estas técnicas no proveen garantías duras de lograr los objetivos y suelen basarse en estrategias "mejor esfuerzo". Algunos trabajos en combinar preferencias cuantitativas con objetivos duros de seguridad han comenzado a surgir (\cite{ulusoy-ijrr2013}) pero son computacionalmente muy complejas. 

\paragraph{Sistemas Adaptativos}

Hay abundantes antecedentes en el campo de sistemas adaptativos. La robótica es el área de donde
surgen, no siempre de manera explícita, las primeras arquitecturas para sistemas adaptativos. Aunque
existen muchos enfoques distintos (ej.
~\cite{GAT,Huang:2004:RAS:1078026.1078430,mapek}) 
%,Doherty04adistributed
las nociones de multi-capa,
loops de control y un ordenamiento de estos en estratégico/alta-latencia a táctico/baja-latencia son
comunes a la mayoría. En capas más tácticas, aprendizaje bayesiano, teoría de control continua y predicción estadística son técnicas claves. En niveles más estratégicos o de planificación, las técnicas tienden a ser en la práctica más ad-hoc. 
Trabajo inicial en reconfiguración dinámica a nivel arquitectónico (ej. ~\cite{Magee:1996:DSS:239098.239104}) %,Oreizy:1998:ARS:302163.302181} 
provee muchos de los fundamentos para estos niveles. Mientras que el interés en técnicas de generación de estrategias automáticamente ha crecido más recientemente. 

Síntesis de código "glue" para componentes y conectores ha sido estudiado a nivel arquitectónico (ej.~\cite{inverardi04}) %Inverardi:2007:RAC:1294904.1294908
 y en particular para arquitecturas orientadas a servicios~\cite{Bertolino:2009:ASB:1595696.1595719,DBLP:books/sp/sensoria2011/MukhijaRFU11}
 %DBLP:conf/icsoc/FosterMRU08,DBLP:books/sp/sensoria2011/FosterMRU11
     Estos trabajos y otros ~\cite{universal,bertoli01,seams08,plasma}
     %arshad,workflow2,DBLP:conf/icse/MarcoIS13
       se han concentrado principalmente en propiedades de "safety". Pocos trabajos han sido desarrollados en el contexto de sistemas adaptativos que puedan dar soporte para propiedades de "liveness"~\cite{DBLP:conf/ecp/GiunchigliaT99,bertoli01,Heaven:2009:CSG:1573856.1573864}.
       %DBLP:conf/sigsoft/SykesHMK07,
        Sin embargo, el tratamiento de liveness requiere de presunciones de liveness que deben ser representadas explícitamente y pueden, si están mal enunciadas, llevar a controladores vacuos. Estas problemáticas han sido estudiadas y resueltas en~\cite{dippolito13}. 


Se han desarrollado implementaciones de referencia para adaptación de alto nivel como por ejemplo Rainbow~\cite{Garlan:2004:RAS:1032275.1032348}. Sin embargo el foco es en integrar con actuadores y sensores y no en técnicas de razonamiento y generación automática de estrategias. 



La provisión de degradación y mejora gradual requiere del monitoreo de presunciones del ambiente, área que es de intensa actividad~\cite{DBLP:conf/models/runtime}.
La degradación y mejora gradual de aspectos cuantitativos ha recibido mucha atención (e.g.~\cite{tamburrelli13}).
%litoiu11
 Estos trabajos tienen el mismo espíritu que el presente plan, pero la posibilidad de ajustar parámetros numéricos para degradar aspectos no funcionales no se traduce a mecanismos de degradación para propiedades funcionales. 

 Algunos trabajos 
 %(ej. \cite{randell75,seams08}) 
 apuntan a intercambiar implementaciones alternativas de componentes o aplicar secuencias alternativas de acciones o incluso de roll-backs  \cite{gorla13}
 %\cite{arshad}. 
 Sin embargo, en estos casos hay un sólo requerimiento que se está tratando de lograr y diferentes estrategias para lograrlo son exploradas. La necesidad de un rango de requerimientos funcionales de distinto tipo que puedan ser intercambiados según la certeza sobre el comportamiento del ambiente es todavía una cuenta pendiente y claramente individualizada en el SEAMS roadmap\cite{roadmap09}.

El concepto de replanificación como una forma de tratar incertidumbre ha sido estudiado, por ejemplo, en ~\cite{DBLP:journals/jair/BrafmanS12}, pero sin dar garantías de que los objetivos serán logrados en la medida que las presunciones sean válidas. 

El problema de identificar presunciones válidas en tiempo de ejecución es ortogonal a esta propuesta
y es objeto de estudio en si mismo (ej. \cite{fusion,sykesicse,epifani}. A su vez esta propuesta
también es ortogonal a el trabajo realizado en temas de control continuo que suele ubicarse en capas
más bajas de adaptación y donde las estrategias suelen estar basadas en sensado del estado del entorno y no la historia de interacciones. En las capas mas altas el control es de tipo "feed-forward" donde el controlador puede anticipar el resultado de acciones controladas y entonces puede planificar de manera adelantada como lograr objetivos de largo plazo~(e.g. \cite{DBLP:conf/isrr/GillulaHVT09,Thrun:2005:PR:1121596}). Esto es también el principio detrás del modelo de referencia de tres capas para sistemas adaptativos\cite{Kramer:2007:SSA:1253532.1254723} en el cual nuestra propuesta caería en la capa de administración de objetivos. En el modelo de referencia MAPE-K\cite{mapek} nuestro trabajo encaja en los componentes de análisis y planificación.

Nuestro antecedente mas relevante para este proyecto es un trabajo presentado
recientemente~\cite{MultiTier14} donde se propone un diseño multi-capa para adaptación. Este trabajo
es un primer paso, pero limitado, en la dirección propuesta para esta beca doctoral. El enfoque
tiene múltiples limitaciones teóricas y prácticas que se esperan resolver. En particular el enfoque
requiere una jerarquía lineal de controladores que no permite alternativas en la degradación y
mejora gradual. Además, se requiere una relación de simulación muy restrictiva entre los distintos
problemas de control, lo cual fuerza, por ejemplo a ubicar objetivos de safety en niveles de menor
riesgo y propiedades de liveness en niveles de mayor riesgo. Esto puede ser una limitación importante ya que es común sacrificar propiedades de safety en pos de liveness cuando estas últimas no pueden ser garantizadas. El debilitamiento de restricciones topológicas y de dependencia entre-capas requerirá resolver problemas de actualización dinámica de controladores~\cite{PanzicaLaManna:2013:FCC:2487336.2487349} que está íntimamente relacionado con la problemática general de actualización dinámica de software y "quiescence"~\cite{Kramer:1990:EPP:93658.93672}.


\subsection*{Actividades y Metodología}

%Actividades y metodología: 
% 
%Enumerar las tareas a desarrollar y las metodologías experimentales y técnicas a 
%emplear en el plan de trabajo propuesto para la obtención de resultados y la 
%demostración de hipótesis. 

Las actividades a desarrollar pueden agruparse en tres grupos. Desde una perspectiva teórica~\emph{(1)}, se estudiará el uso de jerarquías de problemas de control para lidiar con diferentes niveles de riesgo y servicio funcional, y también para permitir degradación y mejora gradual. Se trabajará en un propuesta integral desde el punto de vista sintáctico y semántico así como también aspectos algorítmicos y resultados teóricos que incluyen correctitud, completitud y cotas de complejidad. 

 Desde una perspectiva más práctica \emph{(2)} se desarrollará un nivel de planificación en una arquitectura de adaptabilidad basado en jerarquías de problemas de control. Se deberán resolver problemas de sincronización entre controladores así como aspectos de meta-control como ser la detección de cuando desactivar un controlador (a causa de presunciones inválidas) y la decisión de qué controlador activar (ya que puede haber múltiples opciones de degradación/mejora). También deberá estudiarse la integración con frameworks para sistemas adaptativos existentes. 
  Finalmente \emph{(3)}, se deberá instanciar la infraestructura desarrollada en casos de estudio realistas. Se apuntará a casos de estudio dentro del dominio de la robótica/sistemas "ciber-físicos" así como dominios puramente de software como ser sistemas orientados a servicios. 

El método a utilizar busca desarrollar resultados teóricos (fundamentos, algoritmos probadamente correctos, etc) pero también implementaciones concretas integradas en herramientas que tengan potencial para convertirse en tecnología transferible. Ciertamente, una de las características de este dominio es la necesidad de complementar resultados teóricos, validados analíticamente, con validación experimental basada en casos de estudio~\cite{runeson2012case}.

Nuestra hipótesis general está vinculada con la provisión de comportamiento correcto por construcción para adaptar sistemas a cambios en el entorno. Los problemas de control garantizan esto de manera individual, pero una jerarquía de problemas de control con un meta-controlador que activa y desactiva controladores no necesariamente es correcto y su correctitud no se deduce de manera directa a través de razonamiento composicional. Por lo tanto elicitar y probar las propiedades emergentes de la jerarquía de control será una validación analítica a desarrollar. 

Por otro lado, la flexibilidad del diseño para poder utilizarse en una variedad de casos de estudio
será otro aspecto clave a validar. El riesgo es que las restricciones entre niveles de la jerarquía de controladores que deberán establecerse para poder probar propiedades emergentes del diseño impidan su aplicación a casos reales. En consecuencia, analizaremos por un lado desde una perspectiva teórica el espacio de equilibrios entre mayores garantías globales y mayor flexibilidad entre capas de la jerarquía. Además, estudiaremos casos de estudio de la literatura para ver si pueden ser abordados por nuestro enfoque. 
Se espera que todos los casos puedan abordarse con una jerarquía de un sólo nivel, la clave será cuanta robustez adicional podrá proveerse mediante una descomposición, en la medida que sea posible, en capas con distintos grados de presunciones y riesgos. 

Finalmente, para analizar rigurosamente el balance entre robustez y flexibilidad desarrollaremos modelos de fallas para modificar los modelos de entorno sobre los que se computaron estrategias para ver cómo el sistema adaptativo se comporta cuando es instalado en un entorno que diverge del entorno supuesto. Modelos de arboles de falla \cite{Leveson:1995:SSS:202709} serán utilizados. Compararemos estrategias construidas por técnicas existentes contra estrategias multi-capa para mostrar el nivel de robustez logrado por nuestro enfoque. Estas comparaciones se harán de manera exhaustiva usando tecnología de model checking. 


Escalabilidad también será objeto de estudio y validación. Por un lado se tomará un enfoque
analítico para entender si las restricciones  interpuestas por la jerarquía de problemas de control
aporta complejidad adicional por sobre la complejidad de cada problema de control en aislamiento.
También estudiaremos escalabilidad desde lo práctico adaptando casos de estudio para hacerlos
paramétricos en términos de tamaño (por ejemplo en un caso de estudio que utiliza servicios web,
parametrizaremos el número de servicios disponibles). 

Finalmente, buscaremos realizar una validación punta a punta usando un caso de estudio en el dominio de robótica. Aquí buscaremos mostrar factibilidad del enfoque mediante la resolución de un problema real en un entorno de ejecución real. 

\small{
\bibliographystyle{abbrv}
\bibliography{adaptive.bib}
}
